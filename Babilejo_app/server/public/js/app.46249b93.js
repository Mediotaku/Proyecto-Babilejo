(function(e){function t(t){for(var a,r,o=t[0],c=t[1],u=t[2],g=0,d=[];g<o.length;g++)r=o[g],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},s={app:0},i=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"074f":function(e,t,n){e.exports=n.p+"img/Frame1.72044456.svg"},"130b":function(e,t,n){e.exports=n.p+"img/SettingsIcon.062a2c5e.svg"},"13fe":function(e,t,n){e.exports=n.p+"img/BabilejoLogoSmall.1c2e7a31.svg"},"1b6c":function(e,t,n){e.exports=n.p+"img/BabilejoB.e76d588a.svg"},"2f33":function(e,t,n){"use strict";n("34b0")},"2fea":function(e,t,n){"use strict";n("7299")},"2ff0":function(e,t,n){e.exports=n.p+"img/Icon3.ddce2079.svg"},"338e":function(e,t,n){e.exports=n.p+"img/Split_bar2.518d6226.svg"},"34b0":function(e,t,n){},3631:function(e){e.exports=JSON.parse('{"en":[{"chat_bar_default":"Select a user or event","search_bar_placeholder":"Search on Babilejo...","event_flag":"Event","settings_bar":"Settings","notification_option":"Notifications","notification_option1":"Push Notifications","notification_option2":"Play sound","notification_option3":"Browser Tab Title","about_option":"About Babilejo","about_p1":"\'Babilejo\' is an open source multilingual chat created by Civiencia SL.","about_p2":"This resource has been developed by José Vicente Tomás Pérez. Contact: Mediotaku@gmail.com @mediotaku","about_p3":"Version 1.0","event_text1":"This event will start at:","event_text2":"This event has already started","event_text3":"Details of the event can be found by clicking on the event name at the top of the page","event_button":"Join","event_date":"Starts on ","event_description":"Event description","event_close":"Close window","event_join":"Join the event","event_leave":"Leave the event","input_message":"Write your message...","message_option_reply":"Reply","message_option_original":"Show original","message_option_translate":"Show translation"}],"es":[{"chat_bar_default":" Selecciona a un usuario o evento","search_bar_placeholder":"Buscar en Babilejo...","event_flag":"Evento","settings_bar":"Ajustes","notification_option":"Notificaciones","notification_option1":"Notificaciones de escritorio","notification_option2":"Notificaciones sonoras","notification_option3":"Título de la pestaña","about_option":"Sobre Babilejo","about_p1":"\'Babilejo\' es un chat multilingüe de código abierto creado por Civiencia SL.","about_p2":"Este recurso ha sido desarrollado por José Vicente Tomás Pérez. Contacto: Mediotaku@gmail.com @mediotaku","about_p3":"Versión 1.0","event_text1":"Este evento comenzará a las:","event_text2":"Este evento ya ha comenzado","event_text3":"Puede consultar los detalles del mismo pulsando el nombre del evento en la parte superior","event_button":"Unirse","event_date":"Comienza el ","event_description":"Descripción del evento","event_close":"Cerrar ventana","event_join":"Unirse al evento","event_leave":"Salir del evento","input_message":"Introduce tu mensaje...","message_option_reply":"Responder","message_option_original":"Ver original","message_option_translate":"Ver traducción"}],"ja":[{"chat_bar_default":"ユーザーまたはイベントを選択してください","search_bar_placeholder":"バビレホで検索する...","event_flag":"イベント","settings_bar":"設定","notification_option":"通知","notification_option1":"デスクトップ通知","notification_option2":"通知音","notification_option3":"ブラウザタブのタイトル","about_option":"アプリ情報","about_p1":"「Babilejo」は、Civiencia SLが作成したオープンソースの多言語チャットです。","about_p2":"このプリケーションは、José Vicente Tomás Pérezが開発しました。お問い合わせ Mediotaku@gmail.com @mediotaku","about_p3":"バージョン 1.0","event_text1":"イベントの開始日:","event_text2":"このイベントはもう始まっています","event_text3":"イベントの詳細は、ページ上部のイベント名をクリックしてご覧いただけます","event_button":"登録","event_date":"開始日: ","event_description":"イベント内容","event_close":"閉じる","event_join":"登録","event_leave":"登録解除","input_message":"メッセージを入力...","message_option_reply":"返信","message_option_original":"原文を表示","message_option_translate":"翻訳を表示"}],"ko":[{"chat_bar_default":" Selecciona a un usuario o evento","search_bar_placeholder":"Buscar en Babilejo...","event_flag":"Evento","settings_bar":"Ajustes","notification_option":"Notificaciones","notification_option1":"Notificaciones de escritorio","notification_option2":"Notificaciones sonoras","notification_option3":"Título de la pestaña","about_option":"Sobre Babilejo","about_p1":"\'Babilejo\' es un chat multilingüe de código abierto creado por Civiencia SL.","about_p2":"Este recurso ha sido desarrollado por José Vicente Tomás Pérez. Contacto: Mediotaku@gmail.com @mediotaku","about_p3":"Versión 1.0","event_text1":"Este evento comenzará a las:","event_text2":"Este evento ya ha comenzado","event_text3":"Puede consultar los detalles del mismo pulsando el nombre del evento en la parte superior","event_button":"Unirse","event_date":"Comienza el","event_description":"Descripción del evento","event_close":"Cerrar ventana","event_join":"Unirse al evento","event_leave":"Salir del evento","input_message":"Introduce tu mensaje...","message_option_reply":"Responder","message_option_original":"Ver original","message_option_translate":"Ver traducción"}],"fr":[{"chat_bar_default":" Selecciona a un usuario o evento","search_bar_placeholder":"Buscar en Babilejo...","event_flag":"Evento","settings_bar":"Ajustes","notification_option":"Notificaciones","notification_option1":"Notificaciones de escritorio","notification_option2":"Notificaciones sonoras","notification_option3":"Título de la pestaña","about_option":"Sobre Babilejo","about_p1":"\'Babilejo\' es un chat multilingüe de código abierto creado por Civiencia SL.","about_p2":"Este recurso ha sido desarrollado por José Vicente Tomás Pérez. Contacto: Mediotaku@gmail.com @mediotaku","about_p3":"Versión 1.0","event_text1":"Este evento comenzará a las:","event_text2":"Este evento ya ha comenzado","event_text3":"Puede consultar los detalles del mismo pulsando el nombre del evento en la parte superior","event_button":"Unirse","event_date":"Comienza el","event_description":"Descripción del evento","event_close":"Cerrar ventana","event_join":"Unirse al evento","event_leave":"Salir del evento","input_message":"Introduce tu mensaje...","message_option_reply":"Responder","message_option_original":"Ver original","message_option_translate":"Ver traducción"}],"epo":[{"chat_bar_default":" Selecciona a un usuario o evento","search_bar_placeholder":"Buscar en Babilejo...","event_flag":"Evento","settings_bar":"Ajustes","notification_option":"Notificaciones","notification_option1":"Notificaciones de escritorio","notification_option2":"Notificaciones sonoras","notification_option3":"Título de la pestaña","about_option":"Sobre Babilejo","about_p1":"\'Babilejo\' es un chat multilingüe de código abierto creado por Civiencia SL.","about_p2":"Este recurso ha sido desarrollado por José Vicente Tomás Pérez. Contacto: Mediotaku@gmail.com @mediotaku","about_p3":"Versión 1.0","event_text1":"Este evento comenzará a las:","event_text2":"Este evento ya ha comenzado","event_text3":"Puede consultar los detalles del mismo pulsando el nombre del evento en la parte superior","event_button":"Unirse","event_date":"Comienza el","event_description":"Descripción del evento","event_close":"Cerrar ventana","event_join":"Unirse al evento","event_leave":"Salir del evento","input_message":"Introduce tu mensaje...","message_option_reply":"Responder","message_option_original":"Ver original","message_option_translate":"Ver traducción"}]}')},"3c1a":function(e,t,n){e.exports=n.p+"img/message-reply.205cc41c.svg"},"3c7d":function(e,t,n){e.exports=n.p+"img/BackIconx2.ebd0a230.svg"},"40ca":function(e,t,n){},"42af":function(e,t,n){e.exports=n.p+"img/BabilejoLogoSVG.188efdb1.svg"},"48c6":function(e,t,n){e.exports=n.p+"img/Frame6.c0426ba4.svg"},"4f51":function(e,t,n){e.exports=n.p+"media/MessageNotificationSoundExtended.1f097b2b.wav"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),s={key:0,class:"main-interface"},i={id:"chat-sidebar",class:"chat-sidebar"},r={class:"chat-room"},o={key:1},c={key:2},u={key:3};function l(e,t,n,l,g,d){var b=Object(a["l"])("ChatList"),p=Object(a["l"])("ChatRoom"),v=Object(a["l"])("SignIn"),h=Object(a["l"])("LanguageModal"),f=Object(a["l"])("EventModal");return Object(a["h"])(),Object(a["c"])(a["a"],null,[e.showSignIn?Object(a["d"])("",!0):(Object(a["h"])(),Object(a["c"])("div",s,[Object(a["f"])("div",{onClick:t[1]||(t[1]=function(){return d.closeMenu&&d.closeMenu.apply(d,arguments)}),id:"menu-overlay",class:"menu-overlay"}),Object(a["f"])("div",i,[Object(a["f"])(b,{users:e.users,username:e.username,onSelectChat:d.setChatId,unreadMessages:e.unreadMessages,messages:e.messages,onPushNotifications:d.setPushNotifications,onTitleNotifications:d.setTitleNotifications,onSoundNotifications:d.setSoundNotifications,eventsData:e.eventsData,localization:e.localization,currentLanguage:e.currentLanguage},null,8,["users","username","onSelectChat","unreadMessages","messages","onPushNotifications","onTitleNotifications","onSoundNotifications","eventsData","localization","currentLanguage"])]),Object(a["f"])("div",r,[Object(a["f"])(p,{messages:e.messages,currentChatUser:e.currentChatUser,username:e.username,eventsData:e.eventsData,onSendMessage:this.sendMessage,currentLanguage:e.currentLanguage,onOpenLanguageModal:t[2]||(t[2]=function(t){return e.openmodal=!0}),eventsSubscribed:e.eventsSubscribed,onOpenMenu:d.openMenu,onEventSubscribe:d.eventSubscribe,onOpenEventModal:t[3]||(t[3]=function(t){return e.openEventModal=!0}),currentEventStarted:e.currentEventStarted,onCurrentEventState:d.currentEventState,localization:e.localization},null,8,["messages","currentChatUser","username","eventsData","onSendMessage","currentLanguage","eventsSubscribed","onOpenMenu","onEventSubscribe","currentEventStarted","onCurrentEventState","localization"])])])),e.showSignIn?(Object(a["h"])(),Object(a["c"])("div",o,[Object(a["f"])(v,{users:e.users,onSignedin:d.setNickname},null,8,["users","onSignedin"])])):Object(a["d"])("",!0),e.openmodal?(Object(a["h"])(),Object(a["c"])("div",c,[Object(a["f"])(h,{currentLanguage:e.currentLanguage,onSetCurrentLanguage:this.setCurrentLanguage,onCloseLanguageModal:this.closeLanguageModal},null,8,["currentLanguage","onSetCurrentLanguage","onCloseLanguageModal"])])):Object(a["d"])("",!0),e.openEventModal?(Object(a["h"])(),Object(a["c"])("div",u,[Object(a["f"])(f,{users:e.users,currentChatUser:e.currentChatUser,eventsData:e.eventsData,onEventUnsubscribe:d.eventUnsubscribe,eventsSubscribed:e.eventsSubscribed,onCloseEventModal:t[4]||(t[4]=function(t){return e.openEventModal=!1}),onEventSubscribe:d.eventSubscribe,currentEventStarted:e.currentEventStarted,localization:e.localization,currentLanguage:e.currentLanguage},null,8,["users","currentChatUser","eventsData","onEventUnsubscribe","eventsSubscribed","onEventSubscribe","currentEventStarted","localization","currentLanguage"])])):Object(a["d"])("",!0)],64)}var g=n("1da1"),d=(n("96cf"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0"),n("2b3d"),n("4fad"),n("a434"),n("8e27")),b=n.n(d),p=n("42af"),v=n.n(p),h=n("074f"),f=n.n(h),m=n("93dc"),j=n.n(m),O=n("849b"),_=n.n(O),L=n("7bd5"),S=n.n(L),y=n("8e5a"),k=n.n(y),x=n("48c6"),w=n.n(x),C=n("338e"),E=n.n(C),M=Object(a["t"])("data-v-71b1b949");Object(a["j"])("data-v-71b1b949");var I={class:"signin-container"},T={class:"full-logo"},N=Object(a["f"])("img",{src:v.a},null,-1),U={id:"logoanimate"},D=Object(a["f"])("img",{class:"splitbar",src:E.a},null,-1),z={class:"SignInForm"},V=Object(a["f"])("label",{for:"signinfield"},"¡Bienvenid@! Introduce un nickname para empezar a chatear",-1),A=Object(a["f"])("br",null,null,-1),B=Object(a["f"])("br",null,null,-1);Object(a["i"])();var P=M((function(e,t,n,s,i,r){return Object(a["h"])(),Object(a["c"])("div",I,[Object(a["f"])("div",T,[N,Object(a["f"])("div",U,[Object(a["f"])("img",{class:{hide:1!=i.animateTurn},src:f.a},null,2),Object(a["f"])("img",{class:{hide:2!=i.animateTurn},src:j.a},null,2),Object(a["f"])("img",{class:{hide:3!=i.animateTurn},src:_.a},null,2),Object(a["f"])("img",{class:{hide:4!=i.animateTurn},src:S.a},null,2),Object(a["f"])("img",{class:{hide:5!=i.animateTurn},src:k.a},null,2),Object(a["f"])("img",{class:{hide:6!=i.animateTurn},src:w.a},null,2)])]),D,Object(a["f"])("div",z,[V,A,Object(a["r"])(Object(a["f"])("input",{type:"text",id:"signinfield",name:"signinfield","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.nickname=e}),onKeydown:t[2]||(t[2]=function(e){return i.inputOk=!0}),onKeyup:t[3]||(t[3]=function(){return r.checkInput&&r.checkInput.apply(r,arguments)}),placeholder:"Nombre de usuario"},null,544),[[a["p"],i.nickname]]),B,Object(a["f"])("span",{class:{hide:i.inputOk||""==i.nickname}},"🚫 El nickname introducido no está disponible",2),Object(a["f"])("br",{class:{hide:i.inputOk||""==i.nickname}},null,2),Object(a["f"])("button",{onClick:t[4]||(t[4]=function(){return r.sendNickname&&r.sendNickname.apply(r,arguments)}),disabled:!i.inputOk},"Acceder",8,["disabled"])])])})),F=(n("caad"),n("2532"),{props:["users"],data:function(){return{nickname:"",inputOk:!1,animateTurn:1}},methods:{checkInput:function(){""==this.nickname||this.users.includes(this.nickname)?this.inputOk=!1:this.inputOk=!0},sendNickname:function(){this.users.includes(this.nickname)||this.$emit("signedin",this.nickname)},changeFrame:function(){this.animateTurn++,this.animateTurn>6&&(this.animateTurn=1)}},mounted:function(){setInterval(this.changeFrame,1e3)}});n("f6c9");F.render=P,F.__scopeId="data-v-71b1b949";var R=F,q=n("ade3"),$=n("6e4c"),J=n.n($),K=n("f08d"),W=n.n(K),G=Object(a["t"])("data-v-2d68d872");Object(a["j"])("data-v-2d68d872");var H={class:"chat-bar"},Z={key:1,class:"chat-bar-text"},Y={key:0},Q={key:1},X={key:2,class:"event-date"},ee={class:"message-full"},te={class:"username"},ne={class:"message-text"},ae={class:"message-time"},se={class:"message-text"},ie={class:"message-time"},re={class:"message-preview"},oe={class:"username"},ce={class:"message-text"},ue={class:"message-time"};Object(a["i"])();var le=G((function(e,t,s,i,r,o){return Object(a["h"])(),Object(a["c"])(a["a"],null,[Object(a["f"])("div",H,[Object(a["f"])("img",{onClick:t[1]||(t[1]=function(t){return e.$emit("openMenu")}),id:"menu-button",src:J.a}),""!=s.currentChatUser?(Object(a["h"])(),Object(a["c"])("div",{key:0,class:["chat-bar-text",{clickable:o.isEvent()}],onClick:t[2]||(t[2]=function(){return o.openEventMenu&&o.openEventMenu.apply(o,arguments)})},Object(a["n"])(s.currentChatUser),3)):(Object(a["h"])(),Object(a["c"])("div",Z,Object(a["n"])(s.localization[s.currentLanguage][0].chat_bar_default),1)),Object(a["f"])("div",{class:"language-selector-button",onClick:t[3]||(t[3]=function(){return o.openModal&&o.openModal.apply(o,arguments)})},[Object(a["f"])("img",{src:n("a49b")("./"+o.currentLanguageIcon(s.currentLanguage)+"Icon.svg")},null,8,["src"]),Object(a["e"])(" "+Object(a["n"])(o.currentLanguageName(s.currentLanguage)),1)])]),Object(a["f"])("div",{class:["chat-window",Object(q["a"])({backgroundchat:""!=s.currentChatUser,"chat-window-event":o.isEvent()&&!o.isEventSubscribed()},"background-image-"+s.currentLanguage,!0)]},[Object(a["f"])("div",{class:["event-join",{hide:!o.isEvent()||o.isEventSubscribed()}]},[s.currentEventStarted?(Object(a["h"])(),Object(a["c"])("p",Q,Object(a["n"])(s.localization[s.currentLanguage][0].event_text2),1)):(Object(a["h"])(),Object(a["c"])("p",Y,Object(a["n"])(s.localization[s.currentLanguage][0].event_text1),1)),s.currentEventStarted?Object(a["d"])("",!0):(Object(a["h"])(),Object(a["c"])("p",X,Object(a["n"])(o.eventDateFormat()),1)),Object(a["f"])("p",null,Object(a["n"])(s.localization[s.currentLanguage][0].event_text3),1),Object(a["f"])("button",{onClick:t[4]||(t[4]=function(){return o.eventSubscribe&&o.eventSubscribe.apply(o,arguments)}),disabled:!s.currentEventStarted},Object(a["n"])(s.localization[s.currentLanguage][0].event_button),9,["disabled"])],2),""!=s.currentChatUser?(Object(a["h"])(),Object(a["c"])("div",{key:0,class:["messages",{hide:o.isEvent()&&!o.isEventSubscribed()}],id:"messages-box"},[(Object(a["h"])(!0),Object(a["c"])(a["a"],null,Object(a["k"])(o.currentMessages,(function(e){return Object(a["h"])(),Object(a["c"])("div",{class:{"message-wrap":e.messageNick!=s.username,"mymessage-wrap":e.messageNick==s.username},key:s.messages.indexOf(e)},[Object(a["f"])("div",{class:{message:e.messageNick!=s.username,mymessage:e.messageNick==s.username}},[Object(a["f"])("div",ee,[e.isReply?(Object(a["h"])(),Object(a["c"])("div",{key:0,class:"reply-body",onClick:function(t){return e.messageOptions=!1}},[Object(a["f"])("div",te,Object(a["n"])(e.replyNick),1),Object(a["f"])("div",ne,Object(a["n"])(e.replyMsg),1),Object(a["f"])("div",ae,Object(a["n"])(e.replyTimestamp),1)],8,["onClick"])):Object(a["d"])("",!0),Object(a["f"])("div",{class:"message-body",onClick:function(t){return e.messageOptions=!1}},[Object(a["f"])("div",{class:["username",{hide:e.messageNick==s.username}]},Object(a["n"])(e.messageNick),3),Object(a["f"])("div",se,Object(a["n"])(o.messageToShow(e)),1),Object(a["f"])("div",ie,Object(a["n"])(e.timestamp),1)],8,["onClick"])]),Object(a["f"])("img",{class:["message-options",{hide:e.messageNick==s.username}],onClick:function(t){return e.messageOptions=!e.messageOptions},src:n("927b")},null,10,["onClick","src"]),Object(a["r"])(Object(a["f"])("div",{class:["message-options-bubble",{"message-options-bubble-en":"en"==s.currentLanguage}]},[Object(a["f"])("div",{class:"message-options-reply",onClick:function(t){return o.openPreviewReply(e)}},[Object(a["f"])("img",{src:n("3c1a")},null,8,["src"]),Object(a["e"])(Object(a["n"])(s.localization[s.currentLanguage][0].message_option_reply),1)],8,["onClick"]),0==e.currentMessageShown?(Object(a["h"])(),Object(a["c"])("div",{key:0,class:"message-options-original",onClick:function(t){return e.currentMessageShown=1}},[Object(a["f"])("img",{src:n("f675")},null,8,["src"]),Object(a["e"])(Object(a["n"])(s.localization[s.currentLanguage][0].message_option_original),1)],8,["onClick"])):(Object(a["h"])(),Object(a["c"])("div",{key:1,class:"message-options-original",onClick:function(t){return e.currentMessageShown=0}},[Object(a["f"])("img",{src:n("d456")},null,8,["src"]),Object(a["e"])(Object(a["n"])(s.localization[s.currentLanguage][0].message_option_translate),1)],8,["onClick"]))],2),[[a["q"],e.messageOptions]])],2)],2)})),128))],2)):Object(a["d"])("",!0),""!=s.currentChatUser?(Object(a["h"])(),Object(a["c"])("div",{key:1,class:["input-preview",{hide:o.isEvent()&&!o.isEventSubscribed()||!e.openPreview}]},[Object(a["f"])("img",{src:n("3c1a")},null,8,["src"]),Object(a["f"])("div",re,[Object(a["f"])("div",oe,Object(a["n"])(e.previewUsername),1),Object(a["f"])("div",ce,Object(a["n"])(e.previewMsg),1),Object(a["f"])("div",ue,Object(a["n"])(e.previewTimestamp),1)]),Object(a["f"])("img",{src:n("c60c"),onClick:t[5]||(t[5]=function(t){return e.openPreview=!1})},null,8,["src"])],2)):Object(a["d"])("",!0),""!=s.currentChatUser?(Object(a["h"])(),Object(a["c"])("div",{key:2,class:["input-container",{hide:o.isEvent()&&!o.isEventSubscribed(),openPreviewMargin:e.openPreview}]},[Object(a["r"])(Object(a["f"])("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.msg=t}),onKeyup:t[7]||(t[7]=Object(a["s"])((function(){return o.sendMessage&&o.sendMessage.apply(o,arguments)}),["enter"])),placeholder:s.localization[s.currentLanguage][0].input_message},null,40,["placeholder"]),[[a["p"],e.msg]]),Object(a["f"])("img",{onClick:t[8]||(t[8]=function(){return o.sendMessage&&o.sendMessage.apply(o,arguments)}),src:W.a})],2)):Object(a["d"])("",!0)],2)],64)})),ge=(n("c740"),n("fb6a"),n("4de4"),{name:"chatroom",props:["messages","currentChatUser","username","currentLanguage","eventsData","eventsSubscribed","currentEventStarted","localization"],emits:["openLanguageModal","sendMessage","openMenu","eventSubscribe","openEventModal","currentEventState"],data:function(){return{msg:"",eventTime:"",openPreview:!1,previewUsername:"",previewMsg:"",previewTimestamp:"",previewLanguage:""}},methods:{sendMessage:function(){this.$emit("sendMessage",this.msg,this.isEvent(),this.openPreview,this.previewUsername,this.previewMsg,this.previewTimestamp,this.previewLanguage),this.msg="",this.previewUsername="",this.previewTimestamp="",this.previewMsg="",this.previewLanguage="",this.openPreview=!1},updateScroll:function(){var e=document.getElementById("messages-box");e.scrollHeight=e.scrollTop},currentLanguageIcon:function(e){return"es"==e?e="Spanish":"ja"==e?e="Japanese":"ko"==e?e="Korean":"fr"==e?e="French":"en"==e?e="English":"epo"==e&&(e="Esperanto"),e},currentLanguageName:function(e){return"es"==e?e="Español":"ja"==e?e="日本語":"ko"==e?e="한국어":"fr"==e?e="Français":"en"==e?e="English":"epo"==e&&(e="Esperanto"),e},openModal:function(){this.$emit("openLanguageModal",!0)},isEvent:function(){var e=this;return this.eventsData.some((function(t){return t.title===e.currentChatUser}))},isEventSubscribed:function(){var e=this;return this.eventsSubscribed.some((function(t){return t===e.currentChatUser}))},eventSubscribe:function(){this.$emit("eventSubscribe",this.currentChatUser)},eventDateFormat:function(){var e=this;if(""!=this.currentChatUser&&void 0!=this.currentChatUser&&this.isEvent()){var t=new Date(this.eventsData[this.eventsData.findIndex((function(t){return t.title===e.currentChatUser}))].startDate),n={hour:"numeric",minute:"numeric",year:"numeric",month:"long",day:"numeric",timeZone:"UTC",timeZoneName:"short"};return"es"==this.currentLanguage?t=t.toLocaleDateString("es-ES",n):"en"==this.currentLanguage?t=t.toLocaleDateString("en-GB",n):"ja"==this.currentLanguage?t=t.toLocaleDateString("ja-JP",n):("ko"==this.currentLanguage||"epo"==this.currentLanguage||"fr"==this.currentLanguage)&&(t=t.toLocaleDateString("en-GB",n)),t}},eventStarted:function(){if(""!=this.currentChatUser&&void 0!=this.currentChatUser&&this.isEvent()){var e=new Date;this.eventTime.getTime()-e.getTime()<0?this.$emit("currentEventState",!0):this.$emit("currentEventState",!1)}return this.currentEventStarted},openEventMenu:function(){this.isEvent()&&this.$emit("openEventModal")},messageToShow:function(e){return 0==e.currentMessageShown?e.msg:1==e.currentMessageShown?e.originalMsg:void 0},openPreviewReply:function(e){e.messageOptions=!1,this.previewUsername=e.messageNick,this.previewMsg=e.msg,this.previewTimestamp=e.timestamp,this.previewLanguage=e.language,this.openPreview=!0}},watch:{currentChatUser:function(){var e=this;""!=this.currentChatUser&&void 0!=this.currentChatUser&&this.isEvent()&&(this.eventTime=new Date(this.eventsData[this.eventsData.findIndex((function(t){return t.title===e.currentChatUser}))].startDate)),this.eventStarted()}},computed:{currentMessages:function(){var e=this;return this.isEvent()?this.messages.filter((function(t){return t.usernameFrom==e.currentChatUser&&1==t.isEvent})).slice().reverse():this.messages.filter((function(t){return t.usernameFrom==e.currentChatUser&&t.usernameTo==e.username||t.usernameFrom==e.username&&t.usernameTo==e.currentChatUser})).slice().reverse()}},mounted:function(){this.interval=setInterval(this.eventStarted,1e4)},beforeUnmount:function(){clearInterval(this.interval)}});n("b15d");ge.render=le,ge.__scopeId="data-v-2d68d872";var de=ge,be=(n("ac1f"),n("841c"),n("3c7d")),pe=n.n(be),ve=n("67a9"),he=n.n(ve),fe=n("130b"),me=n.n(fe),je=Object(a["t"])("data-v-83c09606");Object(a["j"])("data-v-83c09606");var Oe={class:"chat-search"},_e={id:"animate-button"},Le={class:"chat-list"},Se={class:"chat-preview-img"},ye={class:"chat-data"},ke={class:"chat-name"},xe={class:"chat-last"},we={class:"settings-user"},Ce={class:"settings-username"},Ee={class:"settings-container"},Me=Object(a["f"])("br",null,null,-1),Ie=Object(a["f"])("br",null,null,-1),Te=Object(a["f"])("br",null,null,-1),Ne=Object(a["f"])("span",{class:"watermark"},"Babilejo",-1);Object(a["i"])();var Ue=je((function(e,t,s,i,r,o){return Object(a["h"])(),Object(a["c"])(a["a"],null,[Object(a["f"])("div",Oe,[Object(a["f"])("div",_e,[Object(a["f"])("img",{id:"back-button-x2",onClick:t[1]||(t[1]=function(t){return e.toggleNotificationsVar=!1,e.toggleAboutVar=!1}),class:{"visible-settings":e.toggleNotificationsVar||e.toggleAboutVar},src:pe.a},null,2),Object(a["f"])("img",{id:"back-button",onClick:t[2]||(t[2]=function(t){return e.toggleSettingsVar=!e.toggleSettingsVar}),class:{"back-button-rotated":e.toggleSettingsVar,"hidden-settings":e.toggleNotificationsVar||e.toggleAboutVar},src:he.a},null,2),Object(a["f"])("img",{id:"settings-button",onClick:t[3]||(t[3]=function(t){return e.toggleSettingsVar=!e.toggleSettingsVar}),class:{"settings-button-rotated":e.toggleSettingsVar},src:me.a},null,2)]),Object(a["r"])(Object(a["f"])("input",{id:"chat-input",class:{"hidden-settings":e.toggleSettingsVar},type:"text","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.search=t}),placeholder:s.localization[s.currentLanguage][0].search_bar_placeholder},null,10,["placeholder"]),[[a["p"],e.search]]),Object(a["f"])("div",{class:["settings-name",{"visible-settings":e.toggleSettingsVar&&!e.toggleNotificationsVar&&!e.toggleAboutVar}]},Object(a["n"])(s.localization[s.currentLanguage][0].settings_bar),3),Object(a["f"])("div",{class:["settings-name",{"visible-settings":e.toggleNotificationsVar&&!e.toggleAboutVar}]},Object(a["n"])(s.localization[s.currentLanguage][0].notification_option),3),Object(a["f"])("div",{class:["settings-name",{"visible-settings":e.toggleAboutVar}]},Object(a["n"])(s.localization[s.currentLanguage][0].about_option),3)]),Object(a["f"])("div",Le,[(Object(a["h"])(!0),Object(a["c"])(a["a"],null,Object(a["k"])(o.filteredUsers,(function(t){return Object(a["h"])(),Object(a["c"])("div",{class:["chat-preview",{highlight:s.users.indexOf(t)==e.selected,myself:t==s.username,"hidden-settings":e.toggleSettingsVar}],key:s.users.indexOf(t),onClick:function(n){return e.selected=s.users.indexOf(t),o.selectChat(s.users.indexOf(t))}},[Object(a["f"])("div",Se,[Object(a["f"])("img",{class:{hide:s.eventsData.some((function(e){return e.title===t}))},src:n("a750")("./Icon"+o.alternateIcon(s.users.indexOf(t))+".svg")},null,10,["src"]),Object(a["f"])("div",{class:["image-cropper",{hide:!s.eventsData.some((function(e){return e.title===t}))}]},[Object(a["f"])("img",{src:o.eventImage(t)},null,8,["src"])],2),Object(a["f"])("span",{class:["messages-number",{zerodigit:0==s.unreadMessages[s.users.indexOf(t)],onedigit:s.unreadMessages[s.users.indexOf(t)]<=9,twodigit:s.unreadMessages[s.users.indexOf(t)]>9}]},Object(a["n"])(s.unreadMessages[s.users.indexOf(t)]),3)]),Object(a["f"])("div",ye,[Object(a["f"])("div",{class:["event-flag",{hide:!s.eventsData.some((function(e){return e.title===t})),flagjp:"ja"==s.currentLanguage,flagen:"en"==s.currentLanguage}]},Object(a["n"])(s.localization[s.currentLanguage][0].event_flag),3),Object(a["f"])("div",ke,Object(a["n"])(t),1),Object(a["f"])("div",xe,Object(a["n"])(o.lastMessage(t)),1)])],10,["onClick"])})),128)),Object(a["f"])("div",{id:"settings-options",class:{"visible-settings":e.toggleSettingsVar}},[Object(a["f"])("div",we,[Object(a["f"])("img",{src:n("a750")("./Icon"+o.alternateIcon(s.users.indexOf(s.username))+".svg")},null,8,["src"]),Object(a["f"])("div",Ce,Object(a["n"])(s.username),1)]),Object(a["f"])("div",{class:["settings-container-outer",{"notifications-opened":e.toggleNotificationsVar,"about-opened":e.toggleAboutVar}]},[Object(a["f"])("div",Ee,[Object(a["f"])("div",{onClick:t[5]||(t[5]=function(t){return e.toggleNotificationsVar=!e.toggleNotificationsVar}),class:["settings-option",{"settings-option-jp":"ja"==s.currentLanguage}]},[Object(a["f"])("img",{src:n("7315")},null,8,["src"]),Object(a["f"])("div",null,Object(a["n"])(s.localization[s.currentLanguage][0].notification_option),1)],2),Object(a["f"])("div",{onClick:t[6]||(t[6]=function(t){return e.toggleAboutVar=!e.toggleAboutVar}),class:["settings-option",{"settings-option-jp":"ja"==s.currentLanguage}]},[Object(a["f"])("img",{src:n("1b6c")},null,8,["src"]),Object(a["f"])("div",null,Object(a["n"])(s.localization[s.currentLanguage][0].about_option),1)],2)]),Object(a["f"])("div",{class:["settings-notifications",{"visible-settings":e.toggleNotificationsVar,"settings-notifications-jp":"ja"==s.currentLanguage}]},[Object(a["f"])("label",null,[Object(a["r"])(Object(a["f"])("input",{type:"checkbox",value:"push_checkbox","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.push_checkbox=t}),onChange:t[8]||(t[8]=function(t){return e.$emit("pushNotifications",e.push_checkbox)})},null,544),[[a["o"],e.push_checkbox]]),Object(a["e"])(Object(a["n"])(s.localization[s.currentLanguage][0].notification_option1),1)]),Me,Object(a["f"])("label",null,[Object(a["r"])(Object(a["f"])("input",{type:"checkbox",value:"sound_checkbox","onUpdate:modelValue":t[9]||(t[9]=function(t){return e.sound_checkbox=t}),onChange:t[10]||(t[10]=function(t){return e.$emit("soundNotifications",e.sound_checkbox)})},null,544),[[a["o"],e.sound_checkbox]]),Object(a["e"])(Object(a["n"])(s.localization[s.currentLanguage][0].notification_option2),1)]),Ie,Object(a["f"])("label",null,[Object(a["r"])(Object(a["f"])("input",{type:"checkbox",value:"title_checkbox","onUpdate:modelValue":t[11]||(t[11]=function(t){return e.title_checkbox=t}),onChange:t[12]||(t[12]=function(t){return e.$emit("titleNotifications",e.title_checkbox)})},null,544),[[a["o"],e.title_checkbox]]),Object(a["e"])(Object(a["n"])(s.localization[s.currentLanguage][0].notification_option3),1)]),Te],2),Object(a["f"])("div",{class:["settings-about",{"visible-settings":e.toggleAboutVar}]},[Object(a["f"])("img",{src:n("13fe")},null,8,["src"]),Object(a["f"])("p",null,Object(a["n"])(s.localization[s.currentLanguage][0].about_p1),1),Object(a["f"])("p",null,Object(a["n"])(s.localization[s.currentLanguage][0].about_p2),1),Object(a["f"])("p",null,Object(a["n"])(s.localization[s.currentLanguage][0].about_p3),1)],2)],2)],2)]),Ne],64)})),De={name:"chatlist",props:["users","username","unreadMessages","messages","eventsData","currentLanguage","localization"],emits:["selectChat","pushNotifications","titleNotifications","soundNotifications"],data:function(){return{selected:void 0,search:"",toggleSettingsVar:!1,toggleNotificationsVar:!1,toggleAboutVar:!1,push_checkbox:!1,sound_checkbox:!1,title_checkbox:!0}},methods:{selectChat:function(e){this.$emit("selectChat",e)},alternateIcon:function(e){while(e>5)e=Math.floor(e/5);return e<0&&(e=0),e},lastMessage:function(e){var t="";if(void 0!=this.messages)for(var n=this.messages.length-1;n>=0;n--)if(this.messages[n].usernameFrom==e||this.messages[n].usernameTo==e){t=this.messages[n].msg;break}return t},eventImage:function(e){if(this.eventsData.some((function(t){return t.title===e})))return""===this.eventsData[this.eventsData.findIndex((function(t){return t.title===e}))].img?n("a750")("./Icon"+this.alternateIcon(this.users.indexOf(e))+".svg"):"https://babilejo.herokuapp.com/eventIcons/"+this.eventsData[this.eventsData.findIndex((function(t){return t.title===e}))].img}},computed:{filteredUsers:function(){var e=this;return this.users.filter((function(t){return t.toLowerCase().includes(e.search.toLowerCase())}))}}};n("2f33");De.render=Ue,De.__scopeId="data-v-83c09606";var ze=De,Ve=Object(a["t"])("data-v-4ddaa7d3");Object(a["j"])("data-v-4ddaa7d3");var Ae={class:"wheel-selector"},Be={class:"wheel-selector-text wheel2"},Pe={class:"wheel-selector-text wheel1"},Fe={class:"wheel-selector-text-bold"},Re={class:"wheel-selector-text wheel1"},qe={class:"wheel-selector-text wheel2"};Object(a["i"])();var $e=Ve((function(e,t,s,i,r,o){var c=Object(a["m"])("touch");return Object(a["h"])(),Object(a["c"])("div",{id:"myModal",class:"modal",onClick:t[2]||(t[2]=function(t){return e.$emit("closeLanguageModal")})},[Object(a["r"])(Object(a["f"])("div",{class:"modal-content",onWheel:t[1]||(t[1]=function(e){return o.handleWheel()})},[Object(a["f"])("img",{src:n("a49b")("./"+o.currentLanguageIcon(e.localcurrentLanguage)+"Icon.svg")},null,8,["src"]),Object(a["f"])("div",Ae,[Object(a["f"])("div",Be,Object(a["n"])(o.currentLanguageName(e.languageSelectorArray[0])),1),Object(a["f"])("div",Pe,Object(a["n"])(o.currentLanguageName(e.languageSelectorArray[1])),1),Object(a["f"])("div",Fe,Object(a["n"])(o.currentLanguageName(e.languageSelectorArray[2])),1),Object(a["f"])("div",Re,Object(a["n"])(o.currentLanguageName(e.languageSelectorArray[3])),1),Object(a["f"])("div",qe,Object(a["n"])(o.currentLanguageName(e.languageSelectorArray[4])),1)])],544),[[c,o.swipeHandlerDown,"swipe",{bottom:!0}],[c,o.swipeHandlerUp,"swipe",{top:!0}]])])})),Je={props:["currentLanguage"],data:function(){return{languageArray:["ko","ja","es","fr","en","epo"],languageSelectorArray:[],localcurrentLanguage:this.currentLanguage}},methods:{currentLanguageIcon:function(e){return"es"==e?e="Spanish":"ja"==e?e="Japanese":"ko"==e?e="Korean":"fr"==e?e="French":"en"==e?e="English":"epo"==e&&(e="Esperanto"),e},currentLanguageName:function(e){return"es"==e?e="Español":"ja"==e?e="日本語":"ko"==e?e="한국어":"fr"==e?e="Français":"en"==e?e="English":"epo"==e&&(e="Esperanto"),e},handleWheel:function(){window.addEventListener("wheel",this.handleWheelThis)},handleWheelThis:function(e){var t=this.languageArray.indexOf(this.currentLanguage);e.deltaY<0?(t--,t<0&&(t=this.languageArray.length-1),this.$emit("setCurrentLanguage",this.languageArray[t])):e.deltaY>0&&(t++,t>this.languageArray.length-1&&(t=0),this.$emit("setCurrentLanguage",this.languageArray[t])),this.localcurrentLanguage=this.languageArray[t],this.renderLanguageList(t)},renderLanguageList:function(e){var t=e-2;t<0&&(t=this.languageArray.length+t);var n=e-1;n<0&&(n=this.languageArray.length+n);var a=e+1;a>this.languageArray.length-1&&(a-=this.languageArray.length);var s=e+2;s>this.languageArray.length-1&&(s-=this.languageArray.length),this.languageSelectorArray=[this.languageArray[t],this.languageArray[n],this.languageArray[e],this.languageArray[a],this.languageArray[s]]},swipeHandlerDown:function(){var e=this.languageArray.indexOf(this.currentLanguage);e--,e<0&&(e=this.languageArray.length-1),this.$emit("setCurrentLanguage",this.languageArray[e]),this.localcurrentLanguage=this.languageArray[e],this.renderLanguageList(e)},swipeHandlerUp:function(){var e=this.languageArray.indexOf(this.currentLanguage);e++,e>this.languageArray.length-1&&(e=0),this.$emit("setCurrentLanguage",this.languageArray[e]),this.localcurrentLanguage=this.languageArray[e],this.renderLanguageList(e)}},created:function(){var e=this.languageArray.indexOf(this.currentLanguage);this.renderLanguageList(e)},beforeUnmount:function(){window.removeEventListener("wheel",this.handleWheelThis)}};n("58f9");Je.render=$e,Je.__scopeId="data-v-4ddaa7d3";var Ke=Je,We=(n("a4d3"),n("e01a"),Object(a["t"])("data-v-649c1807"));Object(a["j"])("data-v-649c1807");var Ge={class:"event-modal"},He={class:"event-modal-content"},Ze={class:"event-modal-header"},Ye={class:"image-cropper"},Qe={class:"event-modal-title"},Xe={class:"event-modal-date"},et={class:"event-modal-description"},tt={class:"event-modal-footer"};Object(a["i"])();var nt=We((function(e,t,n,s,i,r){return Object(a["h"])(),Object(a["c"])("div",Ge,[Object(a["f"])("div",He,[Object(a["f"])("div",Ze,[Object(a["f"])("div",Ye,[Object(a["f"])("img",{src:r.eventImage()},null,8,["src"])]),Object(a["f"])("div",null,[Object(a["f"])("div",Qe,Object(a["n"])(n.currentChatUser),1),Object(a["f"])("div",Xe,[Object(a["f"])("div",{class:["event-flag",{flagjp:"ja"==n.currentLanguage}]},Object(a["n"])(n.localization[n.currentLanguage][0].event_flag),3),Object(a["f"])("div",null,Object(a["n"])(n.localization[n.currentLanguage][0].event_date+r.eventDateFormat()),1)])])]),Object(a["f"])("div",et,[Object(a["f"])("p",null,Object(a["n"])(n.localization[n.currentLanguage][0].event_description),1),Object(a["f"])("p",null,Object(a["n"])(n.eventsData[n.eventsData.findIndex((function(e){return e.title===n.currentChatUser}))].description),1)]),Object(a["f"])("div",tt,[Object(a["f"])("div",{onClick:t[1]||(t[1]=function(t){return e.$emit("closeEventModal")}),class:{fullength:!n.currentEventStarted}},Object(a["n"])(n.localization[n.currentLanguage][0].event_close),3),Object(a["f"])("div",{onClick:t[2]||(t[2]=function(){return r.eventButton&&r.eventButton.apply(r,arguments)}),class:{redtext:r.buttonText()===n.localization[n.currentLanguage][0].event_leave,hidden:!n.currentEventStarted}},Object(a["n"])(r.buttonText()),3)])])])})),at={name:"eventmodal",props:["users","currentChatUser","eventsData","eventsSubscribed","currentEventStarted","currentLanguage","localization"],emits:["closeEventModal","eventSubscribe","eventUnsubscribe"],data:function(){return{test:""}},methods:{eventDateFormat:function(){var e=this;if(""!=this.currentChatUser&&void 0!=this.currentChatUser){var t=new Date(this.eventsData[this.eventsData.findIndex((function(t){return t.title===e.currentChatUser}))].startDate),n={hour:"numeric",minute:"numeric",year:"numeric",month:"long",day:"numeric",timeZone:"UTC",timeZoneName:"short"};return"es"==this.currentLanguage?t=t.toLocaleDateString("es-ES",n):"en"==this.currentLanguage?t=t.toLocaleDateString("en-GB",n):"ja"==this.currentLanguage?t=t.toLocaleDateString("ja-JP",n):("ko"==this.currentLanguage||"epo"==this.currentLanguage||"fr"==this.currentLanguage)&&(t=t.toLocaleDateString("en-GB",n)),t}},alternateIcon:function(e){while(e>5)e=Math.floor(e/5);return e<0&&(e=0),e},eventImage:function(){var e=this;return""===this.eventsData[this.eventsData.findIndex((function(t){return t.title===e.currentChatUser}))].img?n("a750")("./Icon"+this.alternateIcon(this.users.indexOf(this.currentChatUser))+".svg"):"https://babilejo.herokuapp.com/eventIcons/"+this.eventsData[this.eventsData.findIndex((function(t){return t.title===e.currentChatUser}))].img},isEventSubscribed:function(){var e=this;return this.eventsSubscribed.some((function(t){return t===e.currentChatUser}))},buttonText:function(){return this.isEventSubscribed()?this.localization[this.currentLanguage][0].event_leave:this.localization[this.currentLanguage][0].event_join},eventButton:function(){this.isEventSubscribed()?this.$emit("eventUnsubscribe",this.currentChatUser):this.$emit("eventSubscribe",this.currentChatUser)}}};n("a668");at.render=nt,at.__scopeId="data-v-649c1807";var st=at,it=n("3631"),rt={name:"App",components:{SignIn:R,ChatRoom:de,ChatList:ze,LanguageModal:Ke,EventModal:st},data:function(){return{username:"",socket:b()("https://babilejo.herokuapp.com/"),messages:[],users:[],showSignIn:!0,currentChatId:"",currentChatUser:"",currentLanguage:"es",openmodal:!1,unreadMessages:[],pushNotifications:!1,soundNotifications:!1,titleNotifications:!0,windowFocus:!0,unreadMessagesTotal:0,eventsData:[],eventsSubscribed:[],openEventModal:!1,currentEventStarted:!1,localization:[]}},methods:{joinServer:function(){this.socket.emit("start",this.showSignIn),this.listen()},listen:function(){var e=this;this.socket.on("loggedIn",(function(t){e.users=t.users,e.socket.emit("newuser",e.username)})),this.socket.on("msg",(function(t){if(t.isEvent&&(t.usernameFrom=t.usernameTo),!t.isEvent||t.isEvent&&e.eventsSubscribed.some((function(e){return e===t.usernameFrom}))){if(e.updatePageTitle(),e.soundNotifications&&!e.windowFocus&&0==e.unreadMessages[e.users.indexOf(t.usernameFrom)]){var a=new Audio(n("4f51"));a.play(),e.users.indexOf(t.usernameFrom)==e.currentChatId&&e.unreadMessages[e.users.indexOf(t.usernameFrom)]++}e.users.indexOf(t.usernameFrom)!=e.currentChatId&&e.unreadMessages[e.users.indexOf(t.usernameFrom)]++}t.isReply?"epo"==t.replyLanguage||"epo"==e.currentLanguage?"epo"==t.replyLanguage?e.requestTranslationEsperantoReply(t,0).then((function(n){t=n,"en"!=e.currentLanguage&&e.requestTranslationReply(t).then((function(n){t=n,e.translationLastStep(t)}))})):"epo"==e.currentLanguage&&e.requestTranslationReply(t,"en").then((function(n){t=n,e.requestTranslationEsperantoReply(t,1).then((function(n){t=n,e.translationLastStep(t)}))})):e.requestTranslationReply(t).then((function(n){t=n,e.translationLastStep(t)})):t.language==e.currentLanguage?e.postMessage(t):"epo"==t.language||"epo"==e.currentLanguage?"epo"==t.language?e.requestTranslationEsperanto(t,0).then((function(n){t=n,"en"==e.currentLanguage?e.postMessage(t):e.requestTranslation(t).then((function(t){e.postMessage(t)}))})):"epo"==e.currentLanguage&&e.requestTranslation(t,"en").then((function(n){t=n,e.requestTranslationEsperanto(t,1).then((function(t){e.postMessage(t)}))})):e.requestTranslation(t).then((function(t){e.postMessage(t)}))}))},translationLastStep:function(e){var t=this;e.language==this.currentLanguage?this.postMessage(e):"epo"==e.language||"epo"==this.currentLanguage?"epo"==e.language?this.requestTranslationEsperanto(e,0).then((function(n){e=n,"en"==t.currentLanguage?t.postMessage(e):t.requestTranslation(e).then((function(e){t.postMessage(e)}))})):"epo"==this.currentLanguage&&this.requestTranslation(e,"en").then((function(n){e=n,t.requestTranslationEsperanto(e,1).then((function(e){t.postMessage(e)}))})):this.requestTranslation(e).then((function(e){t.postMessage(e)}))},requestTranslation:function(e){var t=arguments,n=this;return Object(g["a"])(regeneratorRuntime.mark((function a(){var s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.length>1&&void 0!==t[1]?t[1]:n.currentLanguage,a.next=3,fetch("https://translate.astian.org/translate",{method:"POST",body:JSON.stringify({q:e.msg,source:e.language,target:s}),headers:{"Content-Type":"application/json"}});case 3:return i=a.sent,a.next=6,i.json();case 6:return r=a.sent,e.language=s,e.msg=r.translatedText,a.abrupt("return",e);case 10:case"end":return a.stop()}}),a)})))()},requestTranslationReply:function(e){var t=arguments,n=this;return Object(g["a"])(regeneratorRuntime.mark((function a(){var s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.length>1&&void 0!==t[1]?t[1]:n.currentLanguage,a.next=3,fetch("https://translate.astian.org/translate",{method:"POST",body:JSON.stringify({q:e.replyMsg,source:e.replyLanguage,target:s}),headers:{"Content-Type":"application/json"}});case 3:return i=a.sent,a.next=6,i.json();case 6:return r=a.sent,e.replyLanguage=s,e.replyMsg=r.translatedText,a.abrupt("return",e);case 10:case"end":return a.stop()}}),a)})))()},requestTranslationEsperanto:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var a,s,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a="",0==t?(a="epo|eng",e.language="en"):(a="eng|epo",e.language="epo"),s=new URLSearchParams(Object.entries({langpair:a,markUnknown:"no",prefs:"",q:e.msg})).toString(),n.next=5,fetch("https://apertium.org/apy/translate",{method:"POST",body:s,headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 5:return i=n.sent,n.next=8,i.json();case 8:return r=n.sent,e.msg=r.responseData.translatedText,n.abrupt("return",e);case 11:case"end":return n.stop()}}),n)})))()},requestTranslationEsperantoReply:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var a,s,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a="",0==t?(a="epo|eng",e.replyLanguage="en"):(a="eng|epo",e.replyLanguage="epo"),s=new URLSearchParams(Object.entries({langpair:a,markUnknown:"no",prefs:"",q:e.replyMsg})).toString(),n.next=5,fetch("https://apertium.org/apy/translate",{method:"POST",body:s,headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 5:return i=n.sent,n.next=8,i.json();case 8:return r=n.sent,e.replyMsg=r.responseData.translatedText,n.abrupt("return",e);case 11:case"end":return n.stop()}}),n)})))()},postMessage:function(e){if(this.pushNotifications&&!e.isEvent||this.pushNotifications&&e.isEvent&&this.eventsSubscribed.some((function(t){return t===e.usernameFrom}))){var t=n("adad");this.$notification.show(e.usernameFrom,{body:e.msg,icon:t},{})}this.messages.push(e)},setNickname:function(e){this.showSignIn=!1,this.username=e,this.username||(this.username="Anonymous"),this.joinServer()},sendMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";if(""!=e){var o={isEvent:t,usernameFrom:this.username,usernameTo:this.users[this.currentChatId],msg:e,originalMsg:e,timestamp:this.getTime(),language:this.currentLanguage,messageNick:this.username,messageOptions:!1,currentMessageShown:0,isReply:n,replyNick:a,replyMsg:s,replyTimestamp:i,replyLanguage:r};this.socket.emit("msg",o),o.isEvent&&(o.usernameFrom=this.users[this.currentChatId]),this.messages.push(o)}},setChatId:function(e){this.currentChatId=e,this.currentChatUser=this.users[this.currentChatId],this.unreadMessages[this.currentChatId]=0,document.getElementById("menu-overlay").classList.remove("menu-overlay-visible"),document.getElementById("chat-sidebar").classList.remove("chat-sidebar-visible")},getTime:function(){var e=(new Date).toLocaleTimeString();return e=e.substr(0,e.lastIndexOf(":")),e},setCurrentLanguage:function(e){this.currentLanguage=e},closeLanguageModal:function(){this.openmodal=!1},openMenu:function(){document.getElementById("menu-overlay").classList.add("menu-overlay-visible"),document.getElementById("chat-sidebar").classList.add("chat-sidebar-visible")},closeMenu:function(){document.getElementById("menu-overlay").classList.remove("menu-overlay-visible"),document.getElementById("chat-sidebar").classList.remove("chat-sidebar-visible")},setPushNotifications:function(e){this.pushNotifications=e},setTitleNotifications:function(e){this.titleNotifications=e},setSoundNotifications:function(e){this.soundNotifications=e},updatePageTitle:function(){!this.windowFocus&&this.titleNotifications&&(this.unreadMessagesTotal++,document.title="Babilejo ("+this.unreadMessagesTotal+")")},eventSubscribe:function(e){this.eventsSubscribed.push(e)},eventUnsubscribe:function(e){this.eventsSubscribed.splice(this.eventsSubscribed.indexOf(e),1)},currentEventState:function(e){this.currentEventStarted=e}},created:function(){var e=this;this.socket.emit("start",this.showSignIn),this.socket.on("userData",(function(t){e.users=t.users;for(var n=0;n<e.users.length;n++)e.unreadMessages.push(0)})),this.socket.on("userOnline",(function(t){e.unreadMessages.push(0),e.users.push(t)})),this.socket.on("userLeft",(function(t){e.unreadMessages.splice(e.users.indexOf(t),1),e.users.splice(e.users.indexOf(t),1),e.currentChatUser=""})),this.socket.on("eventList",(function(t){null!=t&&void 0!=t&&""!=t&&(e.eventsData=JSON.parse(t)["events"])}))},mounted:function(){var e=this;this.localization=it,window.addEventListener("blur",(function(){e.windowFocus=!1})),window.addEventListener("focus",(function(){document.title="Babilejo",e.unreadMessagesTotal=0,e.windowFocus=!0,e.unreadMessages[e.currentChatId]=0}))}};n("2fea");rt.render=l;var ot=rt,ct=n("7f0a"),ut=n("9a7e"),lt=Object(a["b"])(ot);lt.use(ct["a"],{requestOnNotify:!0}),lt.use(ut["a"]),lt.mount("#app")},"58f9":function(e,t,n){"use strict";n("40ca")},"5cec":function(e,t,n){},"646b":function(e,t,n){e.exports=n.p+"img/FrenchIcon.86b57102.svg"},"66fc":function(e,t,n){e.exports=n.p+"img/BabilejoIcon.1ea43fb7.svg"},"67a9":function(e,t,n){e.exports=n.p+"img/BackIcon.216af44f.svg"},"6e4c":function(e,t,n){e.exports=n.p+"img/MenuIcon.98e9faeb.svg"},7299:function(e,t,n){},7315:function(e,t,n){e.exports=n.p+"img/NotificationIcon.589aa500.svg"},"781a":function(e,t,n){},"793b":function(e,t,n){e.exports=n.p+"img/JapaneseIcon.8ca2a073.svg"},"7bd5":function(e,t,n){e.exports=n.p+"img/Frame4.c45f11e2.svg"},"7d18":function(e,t,n){},"7d23":function(e,t,n){e.exports=n.p+"img/Icon0.84464e7a.svg"},"849b":function(e,t,n){e.exports=n.p+"img/Frame3.697c2979.svg"},"8e5a":function(e,t,n){e.exports=n.p+"img/Frame5.90469a1a.svg"},"927b":function(e,t,n){e.exports=n.p+"img/message-options.7f321846.svg"},"93dc":function(e,t,n){e.exports=n.p+"img/Frame2.557d9526.svg"},"9ba1":function(e,t,n){e.exports=n.p+"img/Icon1.ec76f2a8.svg"},a093:function(e,t,n){e.exports=n.p+"img/SpanishIcon.62d705d2.svg"},a49b:function(e,t,n){var a={"./BabilejoIcon.svg":"66fc","./BackIcon.svg":"67a9","./EnglishIcon.svg":"df59","./EsperantoIcon.svg":"e59c","./FrenchIcon.svg":"646b","./JapaneseIcon.svg":"793b","./KoreanIcon.svg":"d14d","./MenuIcon.svg":"6e4c","./NotificationIcon.svg":"7315","./SendIcon.svg":"f08d","./SettingsIcon.svg":"130b","./SpanishIcon.svg":"a093"};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id="a49b"},a668:function(e,t,n){"use strict";n("781a")},a750:function(e,t,n){var a={"./Icon0.svg":"7d23","./Icon1.svg":"9ba1","./Icon2.svg":"c3d6","./Icon3.svg":"2ff0","./Icon4.svg":"aa17","./Icon5.svg":"c764"};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id="a750"},aa17:function(e,t,n){e.exports=n.p+"img/Icon4.1502f794.svg"},adad:function(e,t,n){e.exports=n.p+"img/BabilejoIcon.d51819fd.png"},b15d:function(e,t,n){"use strict";n("7d18")},c3d6:function(e,t,n){e.exports=n.p+"img/Icon2.97c498cb.svg"},c60c:function(e,t,n){e.exports=n.p+"img/cancel-preview.30d51663.svg"},c764:function(e,t,n){e.exports=n.p+"img/Icon5.d505c894.svg"},d14d:function(e,t,n){e.exports=n.p+"img/KoreanIcon.7adc69bd.svg"},d456:function(e,t,n){e.exports=n.p+"img/message-translation.2ee9bab6.svg"},df59:function(e,t,n){e.exports=n.p+"img/EnglishIcon.d53f4d67.svg"},e59c:function(e,t,n){e.exports=n.p+"img/EsperantoIcon.2d889e86.svg"},f08d:function(e,t,n){e.exports=n.p+"img/SendIcon.9ed075d8.svg"},f675:function(e,t,n){e.exports=n.p+"img/message-original.65214e14.svg"},f6c9:function(e,t,n){"use strict";n("5cec")}});
//# sourceMappingURL=app.46249b93.js.map